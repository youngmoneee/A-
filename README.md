# A- Beta v0.2

<img width=50% src="https://github.com/youngmoneee/A-/assets/79129960/0d183115-0e85-43b8-bf2a-be9c385d6c33" />

---
## Intro

- ë¬´ë”ìš´ ì—¬ë¦„
- ì§‘ì— ë¹¨ë˜ë¥¼ ë„ì–´ë†“ê³  ë‚˜ì™”ê³ ,
- ë°”ê¹¥ ì˜¨ë„ëŠ” 34ë„.
- ì§‘ì—ëŠ” ì•„ë¬´ë„ ì—†ê³ ,
- ìš´ë™ í›„ ì§‘ì— ë“¤ì–´ê°€ëŠ” ê¸¸..

ì§‘ì— ë“¤ì–´ê°”ë”ë‹ˆ ë°”ê¹¥ë³´ë‹¤ ë” ìŠµí•˜ê³ , ë¥ë‹¤?  
  
ì—ì–´ì»¨ì„ í‚¤ê³  ë‹¤ë‹ˆìë‹ˆ  
<img width=30% src="https://github.com/youngmoneee/A-/assets/79129960/6ad7c702-2962-4d15-9410-aeb7b39e5c56" /> ..  
ì—ì–´ì»¨ì„ ë„ê³  ë‹¤ë‹ˆìë‹ˆ  
ì§‘ì´ ë„ˆë¬´ ë¥ê³  ì§‘ì—ì„œ í‚¤ìš°ëŠ” ì‹ë¬¼ë“¤ì´ ì‹œë“¤ì‹œë“¤..

**ì—ì–´ì»¨ì„ ì›ê²©ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆìœ¼ë©´ ì¢‹ì„í…ë°**
ê·¸ëŸ° ê¸°ëŠ¥ì´ ë‚´ì¥ëœ ì—ì–´ì»¨ì´ë‚˜ ì¸ë²„í„°í˜•ì€ ë„ˆë¬´ ë¹„ì‹¸ê³ , ìì·¨ë°©ì´ë¼ ë‚´ ë§ˆìŒëŒ€ë¡œ ë‹¬ ìˆ˜ ì—†ì–´ì„œ !!
ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

### ê¸°ëŠ¥

- ë””ë°”ì´ìŠ¤ì˜ ì„¼ì„œë¥¼ í†µí•´ ìˆ˜ì§‘ëœ ì˜¨/ìŠµë„ ë°ì´í„°ê°€ ì°¨íŠ¸ë¡œ í‘œì‹œë˜ì–´ ë³€í™” ì¶”ì´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥  
  > **ì˜ˆì‹œ**
  > <img width="300" src="https://github.com/youngmoneee/A-/assets/79129960/675f0960-90a8-4c4e-a632-b1f9414760e7">  
  
- ì ì™¸ì„  ì†¡ì‹  ì„¼ì„œë¥¼ í†µí•´ ì™¸ë¶€ì—ì„œë„ ì—ì–´ì»¨ ì „ì›ì„ ì œì–´ ê°€ëŠ¥
- ë‚´ê°€ ë°©ê¸ˆ ê»ëŠ”ë°, ë„ˆê°€ ì¼°ì–´? ì ‘ì† ì¤‘ì¸ ìœ ì €ë¼ë¦¬ ëŒ€í™”í•  ìˆ˜ ìˆëŠ” ì±„íŒ… ê¸°ëŠ¥


---
## ğŸ’¨ [ ë°°í¬ í˜ì´ì§€ ë°”ë¡œê°€ê¸° ](https://iot.ymon.io)

_ë¡œê·¸ì¸ì€ Kakao, Googleì„ í†µí•´ ì§„í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤._  
ì‹¤ì œ ë””ë°”ì´ìŠ¤ì™€ ì—°ê²°ë˜ëŠ” ë§Œí¼, ì§ì ‘ ê¸°ê¸°ì— ëŒ€í•œ ì œì–´ëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
> êµ¬ì„± ì‹œ ë¶€í’ˆ ë¹„ìš© 7000ì› ì •ë„ ì†Œìš”ë˜ë©°, ë””ë°”ì´ìŠ¤ ì„¸íŒ…ì„ ìœ„í•œ ì™¸ë¶€ ë ˆí¬ì§€í† ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  
> [IR Controller with Esp8266](https://github.com/youngmoneee/esp8266-dht11)
>
> ë²„ê·¸ ë°œê²¬ ì‹œ, í˜ì´ì§€ë¥¼ í†µí•´ ë²„ê·¸ë¥¼ ì œë³´í•˜ë©´ í•´ë‹¹ ê¹ƒ ë ˆí¬ì§€í† ë¦¬ì— ì´ìŠˆë¡œ ë“±ë¡ë©ë‹ˆë‹¤.
> ì„œë¹„ìŠ¤ ì œì‘ì— ê¸°ì—¬í•´ì£¼ì„¸ìš” â­ï¸

---
## [ğŸ“– REST API DOCS](https://iot.ymon.io/api)

ì™¸ë¶€ì—ì„œ APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ REST APIì— ëŒ€í•œ ë¬¸ì„œì…ë‹ˆë‹¤.  
ì¸ì¦ì€ Bearer Tokenì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©°, ë¡œê·¸ì¸ í›„ ì„œë²„ë¡œë¶€í„°ì˜ ì‘ë‹µì„ í†µí•´ í† í°ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

---
## ì‹œì‘ ê°€ì´ë“œ

### Oauth ì„œë¹„ìŠ¤  

#### Kakao Client ID ìƒì„±
1. https://developers.kakao.com/console/app/ì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
2. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í™œì„±í™”
3. Redirect URI ë“±ë¡
4. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë™ì˜í•­ëª©ì—ì„œ ë‹‰ë„¤ì„, í”„ë¡œí•„ ì‚¬ì§„, ì´ë©”ì¼ ì„¤ì •
5. ìš”ì•½ ì •ë³´ì˜ REST API í‚¤, Secret í™˜ê²½ ë³€ìˆ˜ì— ë“±ë¡  
  
#### Google Client ID ìƒì„±
1. https://console.cloud.google.com/apis/credentialsì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
2. ì‚¬ìš©ì ì¸ì¦ì •ë³´ -> ì‚¬ìš©ì ì¸ì¦ ì •ë³´ ë§Œë“¤ê¸° -> Oauth í´ë¼ì´ì–¸íŠ¸ ID ë§Œë“¤ê¸°
3. Redirect URI ë“±ë¡
4. REST API í‚¤, Secret í™˜ê²½ ë³€ìˆ˜ì— ë“±ë¡  
  
### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

``` .env
NODE_ENV=prod

FE_HOST='frontend'
FE_PORT=8080
BE_HOST='backend'
BE_PORT=3000
DEBUG=false

# Database
POSTGRES_USER=DB ìœ ì €ë„¤ì„
POSTGRES_PASSWORD=DB ìœ ì € íŒ¨ìŠ¤ì›Œë“œ
POSTGRES_DB=ë°ì´í„°ë² ì´ìŠ¤ëª…


# Auth
G_AUTH_URI=https://accounts.google.com/o/oauth2/v2/auth
G_CLIENT_ID=ìƒì„±ëœ êµ¬ê¸€ Client ID
G_SECRET=ìƒì„±ëœ êµ¬ê¸€ Secret
G_CALLBACK=ë“±ë¡í•œ Redirect URI for Google API

K_AUTH_URI=https://kauth.kakao.com/oauth/authorize
K_CLIENT_ID=ìƒì„±ëœ ì¹´ì¹´ì˜¤ Client ID
K_SECRET=ìƒì„±ëœ ì¹´ì¹´ì˜¤ Secret
K_CALLBACK=ë“±ë¡í•œ Redirect URI for Kakao API

VUE_APP_G_AUTH_URI=$G_AUTH_URI
VUE_APP_K_AUTH_URI=$K_AUTH_URI

VUE_APP_G_CLIENT_ID=$G_CLIENT_ID
VUE_APP_K_CLIENT_ID=$K_CLIENT_ID

VUE_APP_G_CALLBACK=$G_CALLBACK
VUE_APP_K_CALLBACK=$K_CALLBACK


# Backend
DATABASE_URL="postgresql://DB_USERNAME:DB_PASSWORD@DB_HOST:DB_PORT/DB_DATABASE"

DB_HOST=database
DB_PORT=5432
DB_USERNAME=
DB_PASSWORD=
DB_DATABASE=

JWT_SECRET=JWT í•´ì‹±ì— í•„ìš”í•œ ì„ì˜ì˜ ê°’ ì…ë ¥
JWT_EXPIRES_IN=í† í° ë§Œë£Œ ê¸°ê°„
JWT_TOKEN=accessToken

MONGO_HOST=mongo
MONGO_PORT=27017

MQTT_HOST=mosquitto
MQTT_PORT=1883

UPLOAD_DEST=uploads/chat

GH_REPO_URI=ê¹ƒí—ˆë¸Œ ë ˆí¬ì§€í† ë¦¬ URI
GH_PERSONAL_KEY=ê¹ƒí—ˆë¸Œ Personal Token
```

### ì‹¤í–‰

``` bash
git clone https://github.com/youngmoneee/A-.git
cd A-
docker-compose up
```

### í…ŒìŠ¤íŠ¸

``` bash
npm run test
or
npm run test -- --verbose # í…ŒìŠ¤íŠ¸ ë‹¨ìœ„ ì¶œë ¥ ì‹œ
```

#### ê°œë³„ í…ŒìŠ¤íŠ¸
``` bash
npm run test:unit # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
npm run test:integration # í†µí•© í…ŒìŠ¤íŠ¸
npm run test:e2e # E2E í…ŒìŠ¤íŠ¸
```
---

#### ì‹¤í–‰ ì˜ˆì‹œ

https://github.com/youngmoneee/A-/assets/79129960/d54370da-4e79-4368-b579-b6780d09898f



---  
## ì‚¬ìš© ê¸°ìˆ  ìŠ¤íƒ
<div align="center">
<h4>Tools</h4>
<img src="https://img.shields.io/badge/webstorm-000000?style=for-the-badge&logo=webstorm&logoColor=white">
<img src="https://img.shields.io/badge/vim-019733?style=for-the-badge&logo=vim&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
  <br/>
<img src="https://img.shields.io/badge/npm-CB3837?style=for-the-badge&logo=npm&logoColor=white">
<img src="https://img.shields.io/badge/eslint-4B32C3?style=for-the-badge&logo=eslint&logoColor=white">
<img src="https://img.shields.io/badge/pretier-F7B93E?style=for-the-badge&logo=prettier&logoColor=white">
<img src="https://img.shields.io/badge/swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=white">
<img src="https://img.shields.io/badge/jest-C21325?style=for-the-badge&logo=jest&logoColor=white">

<h4>Language</h4>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=white">
<img src="https://img.shields.io/badge/typescript-3178C6?style=for-the-badge&logo=typescript&logoColor=white">
<img src="https://img.shields.io/badge/C++-00599C?style=for-the-badge&logo=cplusplus&logoColor=white">

<h4>Front End</h4>
<img src="https://img.shields.io/badge/Vue.js-4FC08D?style=for-the-badge&logo=vuedotjs&logoColor=white">
<img src="https://img.shields.io/badge/Chart.js-FF6384?style=for-the-badge&logo=chartdotjs&logoColor=white">
<img src="https://img.shields.io/badge/axios-5A29E4?style=for-the-badge&logo=axios&logoColor=white">
<img src="https://img.shields.io/badge/css3-1572B6?style=for-the-badge&logo=css3&logoColor=white">

<h4>Back End</h4>
<img src="https://img.shields.io/badge/nest.js-E0234E?style=for-the-badge&logo=nestjs&logoColor=white">
<img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=jsonwebtokens&logoColor=white">
<img src="https://img.shields.io/badge/passport-334E27A?style=for-the-badge&logo=passport&logoColor=white">
<br/>
<img src="https://img.shields.io/badge/mongoose-880000?style=for-the-badge&logo=mongoose&logoColor=white">
<img src="https://img.shields.io/badge/prisma-2D3748?style=for-the-badge&logo=prisma&logoColor=white">

<h4>Database</h4>
<img src="https://img.shields.io/badge/mongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white">
<img src="https://img.shields.io/badge/postgresql-4169E1?style=for-the-badge&logo=postgresql&logoColor=white">

<h4>Device</h4>
<img src="https://img.shields.io/badge/arduino-00878F?style=for-the-badge&logo=arduino&logoColor=white">
<img src="https://img.shields.io/badge/esp-000000?style=for-the-badge&logo=esphome&logoColor=white">
<img src="https://img.shields.io/badge/eclipse mosquitto-3C5280?style=for-the-badge&logo=eclipsemosquitto&logoColor=white">

<h4>Networking Interface</h4>
<img src="https://img.shields.io/badge/http-47A248?style=for-the-badge&logo=googledocs&logoColor=white">
<img src="https://img.shields.io/badge/socket.io-010101?style=for-the-badge&logo=socketdotio&logoColor=white">
<img src="https://img.shields.io/badge/mqtt-660066?style=for-the-badge&logo=mqtt&logoColor=white">

<h4>Deploy</h4>
<img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white">
<img src="https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white">
<img src="https://img.shields.io/badge/docker compose-0476CD?style=for-the-badge&logo=docker&logoColor=white">
<br/>
<img src="https://img.shields.io/badge/google cloud-4285F4?style=for-the-badge&logo=googlecloud&logoColor=white">
<img src="https://img.shields.io/badge/github actions-2088FF?style=for-the-badge&logo=github actions&logoColor=white">
</div>
